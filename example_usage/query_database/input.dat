# Any line starting with the # character is a comment line
#! Sample HF/cc-pVDZ H2O computation

memory 600 mb   
import dft_mixing.scf_lcom
from dft_mixing.database import Psi4DbAdapter
import psi4
import os

config_path = os.path.join('/home/kenrickmh/CHEM/dft-mixing-plugin/example_usage/query_database', "db_query_config.yaml") 
db = Psi4DbAdapter()
db.bind_database(config_path)

molecule h2o {
  O 
  H 1 0.96
  H 1 0.96 2 104.5
}

set basis cc-pVDZ
set scf_lcom {
  print 1
}

# Database does the source resolution automatically
# But for clarity, please specify the sources
# Also see Psi4DbAdapter for the function declarations.
dft = db.get_functional_dict("multifunc1", "disp_mix1") 
E1 = energy('scf_lcom', dft_functional=dft, decompose_xc=True)
print(dft)
print("E0 DONE")

dft = db.get_functional_dict("multifunc1", "d2")
print(dft) 
E2 = energy('scf_lcom', dft_functional=dft, decompose_xc=True)
print("E1 DONE")

dft = db.get_functional_dict("multifunc1", "d3") 
print(dft)
E2 = energy('scf_lcom', dft_functional=dft, decompose_xc=True)
print("E2 DONE")